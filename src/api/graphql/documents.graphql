query GetPortfolioById($id: UUID!) {
  portfolioById(portfolioId: $id) {
    id
    name
    description
    imageUrl
    totalValue
    unrealizedGain
    assets {
      symbol
      numberOfShares
      pricePerShare
      priceHistory {
        price
        date
      }
    }
  }
}

query GetPortfolios($take: Int, $skip: Int) {
  portfolios(take: $take, skip: $skip, order: [{ createdAt: DESC }]) {
    totalCount
    items {
      id
      name
      description
      imageUrl
      createdAt
      totalValue
      unrealizedGain
    }
  }
}

mutation addPortfolio(
  $name: String!
  $description: String!
  $imageUrl: String!
) {
  addPortfolio(
    portfolioInput: {
      name: $name
      description: $description
      imageUrl: $imageUrl
    }
  ) {
    id
  }
}

mutation DeletePortfolio($portfolioId: UUID!) {
  deletePortfolio(portfolioId: $portfolioId)
}

mutation UpdatePortfolio(
  $id: UUID!
  $name: String!
  $description: String!
  $imageUrl: String!
) {
  updatePortfolio(
    portfolioInput: {
      id: $id
      name: $name
      description: $description
      imageUrl: $imageUrl
    }
  ) {
    id
  }
}

query GetWatchlistAssets {
  watchlistAssets {
    totalCount
    items {
      id
      symbol
      name
      type
      lastPrice
      quote {
        symbol
        currentPrice
        change
        percentChange
      }
    }
  }
}

subscription OnStockPriceUpdated {
  onStockPriceUpdated {
    symbol
    currentPrice
    change
    percentChange
  }
}

query GetStockBySymbol($symbol: String!) {
  stockBySymbol(stockSymbol: $symbol) {
    name
    description
    currentPrice
    marketCap
    symbol
  }
}


